jQuery(document).ready(function(){function e(e,t,o){var o=o,t=t,a=jQuery("#staffRouterEditorContainer").data("router-id");e.parent().remove(),jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/chat-manager.php",data:"mode=removeUserFromUnit&userID="+o+"&unitID="+t+"&routerID="+a,success:chatManagerCallBack,dataType:"json"})}var t=(jQuery("#staffRouterEditorContainer").data("units"),jQuery("#staffRouterEditorContainer").data("users"));jQuery(".daily-hours-options").on("change",function(){var e=(jQuery(".daily-hours-options option:selected").data("unit-id"),jQuery(".daily-hours-options option:selected").data("id-router"),jQuery(this).val(),jQuery(this).closest("tr").data("hour-setday"),jQuery(".1").find(".daily-hours-options option:selected").val()),t=jQuery(".2").find(".daily-hours-options option:selected").val(),o=jQuery(".3").find(".daily-hours-options option:selected").val(),a=jQuery(".4").find(".daily-hours-options option:selected").val(),r=jQuery(".5").find(".daily-hours-options option:selected").val(),d=jQuery(".6").find(".daily-hours-options option:selected").val(),u=jQuery(".7").find(".daily-hours-options option:selected").val();0==e?($(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").attr("disabled",!0),$(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").css("color","red"),$(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").val("00")):1==e?($(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").attr("disabled",!0),$(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").css("color","red"),$(".todhour-open1, .todminute-open1").val("00"),$(".todhour-close1").val("11"),$(".todminute-close1").val("59"),$("#todCloseVal0 option[value='1']").prop("selected",!1),$("#todCloseVal0 option[value='2']").prop("selected","selected"),$("#todCloseVal0 option[value='1']").css("color","red")):2==e&&($(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").attr("disabled",!1),$(".todhour-open1, .todminute-open1, .todhour-close1, .todminute-close1").css("color","green")),0==t?($(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").attr("disabled",!0),$(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").css("color","red"),$(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").val("00")):1==t?($(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").attr("disabled",!0),$(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").css("color","red"),$(".todhour-open2, .todminute-open2").val("00"),$(".todhour-close2").val("11"),$(".todminute-close2").val("59"),$("#todCloseVal1 option[value='1']").prop("selected",!1),$("#todCloseVal1 option[value='2']").prop("selected","selected"),$("#todCloseVal1 option[value='1']").css("color","red")):2==t&&($(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").attr("disabled",!1),$(".todhour-open2, .todminute-open2, .todhour-close2, .todminute-close2").css("color","green")),0==o?($(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").attr("disabled",!0),$(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").css("color","red"),$(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").val("00")):1==o?($(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").attr("disabled",!0),$(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").css("color","red"),$(".todhour-open3, .todminute-open3").val("00"),$(".todhour-close3").val("11"),$(".todminute-close3").val("59"),$("#todCloseVal2 option[value='1']").prop("selected",!1),$("#todCloseVal2 option[value='2']").prop("selected","selected"),$("#todCloseVal2 option[value='1']").css("color","red")):2==o&&($(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").attr("disabled",!1),$(".todhour-open3, .todminute-open3, .todhour-close3, .todminute-close3").css("color","green")),0==a?($(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").attr("disabled",!0),$(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").css("color","red"),$(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").val("00")):1==a?($(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").attr("disabled",!0),$(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").css("color","red"),$(".todhour-open4, .todminute-open4").val("00"),$(".todhour-close4").val("11"),$(".todminute-close4").val("59"),$("#todCloseVal3 option[value='1']").prop("selected",!1),$("#todCloseVal3 option[value='2']").prop("selected","selected"),$("#todCloseVal3 option[value='1']").css("color","red")):2==a&&($(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").attr("disabled",!1),$(".todhour-open4, .todminute-open4, .todhour-close4, .todminute-close4").css("color","green")),0==r?($(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").attr("disabled",!0),$(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").css("color","red"),$(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").val("00")):1==r?($(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").attr("disabled",!0),$(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").css("color","red"),$(".todhour-open5, .todminute-open5").val("00"),$(".todhour-close5").val("11"),$(".todminute-close5").val("59"),$("#todCloseVal4 option[value='1']").prop("selected",!1),$("#todCloseVal4 option[value='2']").prop("selected","selected"),$("#todCloseVal4 option[value='1']").css("color","red")):2==r&&($(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").attr("disabled",!1),$(".todhour-open5, .todminute-open5, .todhour-close5, .todminute-close5").css("color","green")),0==d?($(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").attr("disabled",!0),$(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").css("color","red"),$(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").val("00")):1==d?($(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").attr("disabled",!0),$(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").css("color","red"),$(".todhour-open6, .todminute-open6").val("00"),$(".todhour-close6").val("11"),$(".todminute-close6").val("59"),$("#todCloseVal5 option[value='1']").prop("selected",!1),$("#todCloseVal5 option[value='2']").prop("selected","selected"),$("#todCloseVal5 option[value='1']").css("color","red")):2==d&&($(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").attr("disabled",!1),$(".todhour-open6, .todminute-open6, .todhour-close6, .todminute-close6").css("color","green")),0==u?($(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").attr("disabled",!0),$(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").css("color","red"),$(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").val("00")):1==u?($(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").attr("disabled",!0),$(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").css("color","red"),$(".todhour-open7, .todminute-open7").val("00"),$(".todhour-close7").val("11"),$(".todminute-close7").val("59"),$("#todCloseVal6 option[value='1']").prop("selected",!1),$("#todCloseVal6 option[value='2']").prop("selected","selected"),$("#todCloseVal6 option[value='1']").css("color","red")):2==u&&($(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").attr("disabled",!1),$(".todhour-open7, .todminute-open7, .todhour-close7, .todminute-close7").css("color","green"))}),jQuery(".remove-unit-hours").click(function(){var e=jQuery(".remove-unit-hours").data("unit-id"),t=(jQuery(".remove-unit-hours").data("id-router"),jQuery(this).data("hours-id"));jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeSpecialHours&unitID="+e+"&removeHoursID="+t,dataType:"html"})}),jQuery("#submit-regular-hours").submit(function(e){e.preventDefault();var t=jQuery(".todhour-open1").val(),o=jQuery(".todminute-open1").val(),a=jQuery(".todhour-open2").val(),r=jQuery(".todminute-open2").val(),d=jQuery(".todhour-open3").val(),u=jQuery(".todminute-open3").val(),n=jQuery(".todhour-open4").val(),i=jQuery(".todminute-open4").val(),l=jQuery(".todhour-open5").val(),s=jQuery(".todminute-open5").val(),p=jQuery(".todhour-open6").val(),c=jQuery(".todminute-open6").val(),y=jQuery(".todhour-open7").val(),h=jQuery(".todminute-open7").val(),j=jQuery(".todhour-close1").val(),m=jQuery(".todminute-close1").val(),Q=jQuery(".todhour-close2").val(),v=jQuery(".todminute-close2").val(),b=jQuery(".todhour-close3").val(),f=jQuery(".todminute-close3").val(),$=jQuery(".todhour-close4").val(),g=jQuery(".todminute-close4").val(),k=jQuery(".todhour-close5").val(),D=jQuery(".todminute-close5").val(),T=jQuery(".todhour-close6").val(),I=jQuery(".todminute-close6").val(),C=jQuery(".todhour-close7").val(),O=jQuery(".todminute-close7").val(),w=jQuery("#todOpenVal0").val(),x=jQuery("#todOpenVal1").val(),S=jQuery("#todOpenVal2").val(),V=jQuery("#todOpenVal3").val(),P=jQuery("#todOpenVal4").val(),A=jQuery("#todOpenVal5").val(),U=jQuery("#todOpenVal6").val(),H=jQuery("#todCloseVal0").val(),M=jQuery("#todCloseVal1").val(),E=jQuery("#todCloseVal2").val(),L=jQuery("#todCloseVal3").val(),F=jQuery("#todCloseVal4").val(),Y=jQuery("#todCloseVal5").val(),R=jQuery("#todCloseVal6").val(),K=jQuery(".tod").data("unit-id"),X=jQuery(".tod").data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=updateRegularHours&unitID="+K+"&routerID="+X+"&dailyMondayHourOpen="+t+"&dailyMondayMinuteOpen="+o+"&dailyTuesdayHourOpen="+a+"&dailyTuesdayMinuteOpen="+r+"&dailyWednesdayHourOpen="+d+"&dailyWednesdayMinuteOpen="+u+"&dailyThursdayHourOpen="+n+"&dailyThursdayMinuteOpen="+i+"&dailyFridayHourOpen="+l+"&dailyFridayMinuteOpen="+s+"&dailySaturdayHourOpen="+p+"&dailySaturdayMinuteOpen="+c+"&dailySundayHourOpen="+y+"&dailySundayMinuteOpen="+h+"&dailyMondayHourClose="+j+"&dailyMondayMinuteClose="+m+"&dailyTuesdayHourClose="+Q+"&dailyTuesdayMinuteClose="+v+"&dailyWednesdayHourClose="+b+"&dailyWednesdayMinuteClose="+f+"&dailyThursdayHourClose="+$+"&dailyThursdayMinuteClose="+g+"&dailyFridayHourClose="+k+"&dailyFridayMinuteClose="+D+"&dailySaturdayHourClose="+T+"&dailySaturdayMinuteClose="+I+"&dailySundayHourClose="+C+"&dailySundayMinuteClose="+O+"&todOpenVal0="+w+"&todOpenVal1="+x+"&todOpenVal2="+S+"&todOpenVal3="+V+"&todOpenVal4="+P+"&todOpenVal5="+A+"&todOpenVal6="+U+"&todCloseVal0="+H+"&todCloseVal1="+M+"&todCloseVal2="+E+"&todCloseVal3="+L+"&todCloseVal4="+F+"&todCloseVal5="+Y+"&todCloseVal6="+R,dataType:"html"}),jQuery("#feedback-add-hours").html('<h4 style="color:teal;">You updated the hours!</h4>')}),jQuery("#selectUnitType").on("change",function(){var e=jQuery("#unitType").attr("data-unit-type"),t=jQuery("#selectUnitType option:selected").data("unit-id"),o=jQuery("#selectUnitType option:selected").data("id-router"),a=jQuery("#selectUnitType option:selected").val();jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=modifyOrganizationType&unitID="+t+"&routerID="+o+"&typeOld="+e+"&typeNew="+a,dataType:"html"})}),jQuery("#update-title-area").submit(function(e){e.preventDefault();var t=jQuery("#update-title").val(),o=jQuery(this).data("unit-id"),a=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=updateTitle&updatedTitle="+t+"&unitID="+o+"&routerID="+a,dataType:"html"})}),jQuery("#update-title").on("keypress",function(e){if(13===(e.keyCode?e.keyCode:e.which)){var t=jQuery("#update-title").val(),o=jQuery(this).data("unit-id"),a=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=updateTitle&updatedTitle="+t+"&unitID="+o+"&routerID="+a,dataType:"html"})}}),$(".target-keyword").css("display","none"),$(".browse-keyword-header").css("display","none");var o=[],a=jQuery("#search-unit-keyword").data("unit-id");$(".bot-keywords-options label").each(function(e){o.push($(this).text().trim()+"%%%"+$(this).attr("data-keyword-id"))}),$("#search-unit-keyword").keyup(function(){if($(this).val().length>=3){$(".target-keyword, .browse-keyword-header").css("display","block");var e=($(this).data("keyword-id"),$(this).val().split(" ")),t=[];for(i=0;i<e.length;i++){var r=e[i].trim();if(r.length>=3)for(var d=new RegExp(r+"+","i"),u=$.grep(o,function(e){return d.test(e)}),n=0;n<u.length;n++)t.push(u[n])}t=t.sort();var l="";for(i=0;i<t.length;i++)t[i]=t[i].split("%%%"),l+='<li><input type="checkbox" class="add-keyword-to-unit" data-unit-id="'+a+'" data-keyword-id="'+t[i][1]+'" data-keyword="'+t[i][0]+'"> <label for="'+t[i][0]+'" data-keyword-id="'+t[i][1]+'">'+t[i][0]+"</label></li>";$("#search-results-keywords").html('<ul id ="keyword-result-set">'+l+"</ul>")}else $("#search-results-keywords").html("You need at least three letters")}),jQuery("body").on("click",".add-keyword-to-unit",function(){var e=jQuery(this).data("unit-id"),t=(jQuery(this).data("keyword"),jQuery(this).data("keyword-id")),o=Array();jQuery("input.add-keyword-to-unit:checked").each(function(){o.push(jQuery(this).data("keyword-id"))}),jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addKeywordToUnit&unitID="+e+"&keywordID="+t,dataType:"html"})}),jQuery("#add-unit-keyword-button").on("click",function(e){var t=jQuery("#add-unit-keyword").val(),o=t.toUpperCase(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");console.log(o),console.log(a),console.log(r),jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addNewKeyword&unitKeyword="+o+"&unitID="+a+"&routerID="+r,dataType:"html"}),jQuery("#add-keyword-feedback").html("You have added "+o)}),jQuery("#add-unit-keyword").on("keypress",function(e){if(13===(e.keyCode?e.keyCode:e.which)){var t=jQuery("#add-unit-keyword").val(),o=t.toUpperCase(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addNewKeyword&unitKeyword="+o+"&unitID="+a+"&routerID="+r,dataType:"html"})}}),jQuery("#unit-directory-information").submit(function(e){e.preventDefault();var t=jQuery("#update-location").val(),o=jQuery("#update-description").val(),a=jQuery("#update-unit-url").val(),r=jQuery("#unit-directory-information").data("unit-id"),d=jQuery("#unit-directory-information").data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=updateDirectoryInformation&updateURL="+a+"&updateDescription="+o+"&updateLocation="+t+"&unitID="+r+"&routerID="+d,dataType:"html"})}),jQuery("#unit-phone-and-label-button").on("click",function(e){var t=jQuery("#add-phone").val(),o=jQuery("#add-phone-label").val(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addPhoneAndLabel&unitPhoneLabel="+o+"&unitPhone="+t+"&unitID="+a+"&routerID="+r,dataType:"html"}),jQuery("#add-phone").val("Add another phone number").css("color","green"),jQuery("#add-phone-label").val("Add another phone label").css("color","green"),jQuery("#update-phone-feedback").html("You have added "+o+":"+t)}),jQuery("#unit-fax-and-label-button").on("click",function(e){var t=jQuery("#add-fax").val(),o=jQuery("#add-fax-label").val(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addFAXAndLabel&unitFAXLabel="+o+"&unitFAX="+t+"&unitID="+a+"&routerID="+r,dataType:"html"}),jQuery("#add-fax").val("Add another fax number ").css("color","green"),jQuery("#add-fax-label").val("Add another fax label").css("color","green"),jQuery("#update-fax-feedback").html("You have added "+o+":"+t)}),jQuery("#update-description-button").on("click",function(e){var t=jQuery("#update-description").val(),o=jQuery("#update-description").data("unit-id"),a=jQuery("#update-description").data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=updateDescription&updatedDescription="+t+"&unitID="+o+"&routerID="+a,dataType:"html"}),jQuery("#update-description-feedback").html("You have updated the description")}),jQuery("#submit-unit-link").on("click",function(e){var t=jQuery("#add-unit-link").val(),o=jQuery("#add-link-label").val(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addUnitLink&newLink="+t+"&newLinkLabel="+o+"&unitID="+a+"&routerID="+r,dataType:"html"}),jQuery("#add-unit-link").val("Add another link").css("color","green"),jQuery("#add-link-label").val("Add another link label").css("color","green"),jQuery("#add-link-feedback").html("You have added a link for "+o)}),jQuery("#add-unit-email").on("keypress",function(e){if(13===(e.keyCode?e.keyCode:e.which)){var t=jQuery("#add-unit-email").val(),o=jQuery("#add-email-label").val(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addUnitEmail&newEmail="+t+"&unitID="+a+"&routerID="+r+"&emailLabel="+o,dataType:"html"})}}),jQuery("#unit-email-button").on("click",function(e){var t=jQuery("#add-unit-email").val(),o=jQuery("#add-email-label").val(),a=jQuery(this).data("unit-id"),r=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addUnitEmail&newEmail="+t+"&unitID="+a+"&routerID="+r+"&emailLabel="+o,dataType:"html"}),jQuery("#add-unit-email").val("Add another email").css("color","green"),jQuery("#add-email-label").val("Add another email label").css("color","green"),jQuery("#update-email-feedback").html("You have added a new email: "+t)}),jQuery("body").on("change",".for-sacs",function(){jQuery(this).data("for-sacs");jQuery(this).prop("checked")}),jQuery("body").on("change",".for-ncate",function(){jQuery(this).data("ncate");jQuery(this).prop("checked")}),jQuery("body").on("change",".for-aacsb",function(){jQuery(this).data("aacsb");jQuery(this).prop("checked")}),jQuery("body").on("change",".for-acejmc",function(){jQuery(this).data("acejmc");jQuery(this).prop("checked")}),jQuery("#unit-report-button").on("click",function(e){var t=jQuery("#add-report-title").val(),o=jQuery("#add-report-description").val(),a=jQuery("#add-report-url").val(),r=jQuery("#add-report-extension").val(),d=jQuery("#add-report-number").val(),u=jQuery(this).data("unit-id"),n=jQuery(this).data("id-router"),i=jQuery(this).data("for-sacs"),l=jQuery(this).data("for-ncate"),s=jQuery(this).data("for-aacsb"),p=jQuery(this).data("for-acejmc"),c=jQuery(".for-legal").val();i=jQuery(".for-sacs").prop("checked")?"1":"0",l=jQuery(".for-ncate").prop("checked")?"1":"0",s=jQuery(".for-aacsb").prop("checked")?"1":"0",p=jQuery(".for-acejmc").prop("checked")?"1":"0",jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addUnitReport&reportTitle="+t+"&reportDescription="+o+"&reportURL="+a+"&reportExtension="+r+"&reportNumber="+d+"&unitID="+u+"&sacs="+i+"&ncate="+l+"&aacsb="+s+"&acejmc="+p+"&legal="+c+"&routerID="+n,dataType:"html"}),jQuery("#add-report-title").val("Add another report title").css("color","green"),jQuery("#add-report-description").val("Add another report description").css("color","green"),jQuery("#add-report-url").val("Add another report link").css("color","green"),jQuery("#add-report-number").val("Add another report number or version").css("color","green"),jQuery("#update-report-feedback").html("You have added "+t+'<br /><a href="'+a+'">'+a+"</a>")}),jQuery(".unitDaySetting").on("change",function(e){var t=jQuery(".unitDaySetting").val(),o=jQuery(this).data("unit-id"),a=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=updateUnitDaySetting&daySetting="+t+"&unitID="+o+"&routerID="+a,dataType:"html"})}),jQuery(".remove-unit-report").click(function(){var e=jQuery(this).data("report-id"),t=jQuery(this).data("unit-id"),o=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeUnitReport&routerID="+o+"&unitID="+t+"&removeReportID="+e,dataType:"html"}),jQuery("#update-report-feedback").html("You have removed the reprt: "+unitReport)}),jQuery(".remove-unit-email").click(function(){var e=jQuery(this).data("unit-email"),t=jQuery(this).data("email-id"),o=jQuery(this).data("unit-id"),a=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeUnitEmail&routerID="+a+"&unitID="+o+"&unitEmail="+e+"&removeEmailID="+t,dataType:"html"}),jQuery("#update-email-feedback").html("You have removed the email: "+e)}),jQuery(".remove-unit-link").click(function(){var e=jQuery(this).data("unit-id"),t=jQuery(this).data("id-router"),o=jQuery(this).data("unit-link"),a=jQuery(this).data("link-id");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeUnitLink&routerID="+t+"&unitID="+e+"&removeUnitLink="+o+"&removeLinkID="+a,dataType:"html"})}),jQuery(".remove-unit-phone").click(function(){var e=jQuery(this).data("unit-phone"),t=jQuery(this).data("phone-id"),o=jQuery(this).data("unit-id"),a=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeUnitPhone&routerID="+a+"&unitID="+o+"&unitPhone="+e+"&removePhoneID="+t,dataType:"html"})}),jQuery(".remove-unit-fax").click(function(){var e=jQuery(this).data("unit-fax"),t=jQuery(this).data("fax-id"),o=jQuery(this).data("unit-id"),a=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeUnitFAX&routerID="+a+"&unitID="+o+"&unitFAX="+e+"&removeFAXID="+t,dataType:"html"})}),jQuery(".remove-unit-keyword").click(function(){var e=jQuery(this).data("keyword-id"),t=jQuery(this).data("unit-id");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeKeywordFromUnit&unitID="+t+"&keywordID="+e,dataType:"html"})}),jQuery(".remove-unit-form").click(function(){var e=jQuery(this).data("form-id"),t=jQuery(this).data("unit-id");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeFormFromUnit&unitID="+t+"&formID="+e,dataType:"html"})}),jQuery("#submit-special-hours").submit(function(e){e.preventDefault();var t=jQuery("#submit-special-hours").data("unit-id"),o=jQuery("#submit-special-hours").data("id-router"),a=jQuery("#special-hours-start").val(),r=jQuery("#special-hours-end").val(),d=jQuery("#special-hours-label").val();jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addSpecialHours&routerID="+o+"&unitID="+t+"&specialHoursStart="+a+"&specialHoursEnd="+r+"&specialLabel="+d,dataType:"html"}),jQuery("#special-hours-start").val("Add another start time and date").css("color","green"),jQuery("#special-hours-end").val("Add another end time and date").css("color","green"),jQuery("#special-hours-label").val("Add another label").css("color","green"),jQuery("#feedback-special-hours").html('<h4 style="color:teal;">You updated special hours!</h4>')}),jQuery(".remove-special-hours").click(function(){var e=jQuery(".remove-special-hours").data("unit-id"),t=(jQuery(".remove-special-hours").data("id-router"),jQuery(this).data("hours-id"));jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeSpecialHours&unitID="+e+"&removeHoursID="+t,dataType:"html"}),jQuery("#feedback-special-hours").html('<h4 style="color:teal;">You have removed special hours!</h4>')}),jQuery("body").on("click",".user-entry h4",function(){"block"==$(this).parent().find("ul").css("display")?($("span:first-child",this).removeClass("glyphicon-triangle-bottom"),$("span:first-child",this).addClass("glyphicon-triangle-right"),$(this).parent().find("ul").css({display:"none"})):($("span:first-child",this).removeClass("glyphicon-triangle-right"),$("span:first-child",this).addClass("glyphicon-triangle-bottom"),$(this).parent().find("ul").css({display:"block"}))}),$(".add-a-user").keyup(function(){if($(this).val().length>=3){var e=$(this).val().split(" "),o=[];for(i=0;i<e.length;i++){var a=e[i].trim();if(a.length>=3)for(var r=new RegExp(a+"+","i"),d=$.grep(t,function(e){return r.test(e)}),u=0;u<d.length;u++){var n=!1;$(this).parents("ul").children("li").each(function(e){$("a",this).data("user-id")==d[u][0]&&(n=!0)}),n||o.push(d[u])}}o=o.sort();var l="";for(i=0;i<o.length;i++)l+='<li><input type="checkbox" id="user'+o[i][0]+'" class="user-to-add" data-user-id="'+o[i][0]+'"> <label for="user'+o[i][0]+'">'+o[i][1]+"</label></li>";$(this).parent().next().html('<ul class="unassigned-users">'+l+"</ul>")}else $(this).parent().next().html("")}),jQuery("body").on("click",".user-to-add",function(){var e=jQuery(this).data("user-id"),t=jQuery(this).data("router-id"),o=jQuery(this).parent().parent().parent().parent().data("unit-id");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/chat-manager.php",data:"mode=assignUserToUnit&userID="+e+"&unitID="+o+"&routerID="+t,success:chatManagerCallBack,dataType:"json"}),$(this).parent().parent().parent().prev().before('<li> <a class="removeUser" data-user-id="'+$(this).parent().find("input").data("user-id")+'"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a> '+$(this).parent().find("label").html()+"</li>"),$(this).parent().parent().parent().prev().find(".add-a-user").val(""),$(this).parent().remove()}),jQuery("body").on("click",".removeUser",function(){e(jQuery(this),jQuery(this).parent().parent().data("unit-id"),jQuery(this).data("user-id"))}),jQuery("body").on("change",".routable",function(){var e=jQuery(this).data("unit-id"),t=jQuery(this).data("user-id"),o=jQuery(this).data("routable"),a=jQuery(this).data("router-id");o=jQuery(this).prop("checked")?"1":"0",jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/chat-manager.php",data:"mode=toggleRoutability&unitID="+e+"&userID="+t+"&routable="+o+"&routerID="+a,dataType:"html",success:function(r){console.log("logged "+r+"  routable:"+o+"  unitID:"+e+"  userID:"+t+"  routerID:"+a)}})}),jQuery(".remove-unit-event").click(function(){var e=jQuery(this).data("event-id"),t=jQuery(this).data("unit-id"),o=jQuery(this).data("id-router");jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=removeUnitEvent&unitID="+t+"&eventID="+e+"&routerID="+o,dataType:"html"})}),jQuery("#unit-event-information").submit(function(e){e.preventDefault();var t=jQuery("#event-title").val(),o=jQuery("#event-start-datetime").val(),a=jQuery("#event-end-datetime").val(),r=jQuery("#event-location").val(),d=jQuery("#event-address").val(),u=jQuery("#event-campus").val(),n=jQuery("#event-contact-person").val(),i=jQuery("#event-contact-phone").val(),l=jQuery("#event-contact-email").val(),s=jQuery("#event-contact-web").val(),p=jQuery("#event-social-1").val(),c=jQuery("#event-social-2").val(),y=jQuery("#event-social-3").val(),h=jQuery("#unit-event-information").data("unit-id"),j=jQuery("#unit-event-information").data("id-router"),m=jQuery("#event-start-datetime").val(),Q=jQuery("#event-end-datetime").val();jQuery.ajax({type:"POST",url:jQuery("body").data("path")+"process/unit-manager.php",data:"mode=addEventToUnit&unitID="+h+"&title="+t+"&locationPoint="+r+"&locationAddress="+d+"&locationCampus="+u+"&datetimeStart="+o+"&datetimeEnd="+a+"&contactPerson="+n+"&contactPhone="+i+"&contactEmail="+l+"&contactWeb="+s+"&social1="+p+"&social2="+c+"&social3="+y+"&eventStart="+m+"&eventEnd="+Q+"&routerID="+j,dataType:"html"}),jQuery("#event-title").val("Add another event").css("color","green"),jQuery("#event-start-datetime").val("Add another start day and time").css("color","green"),jQuery("#event-end-datetime").val("Add another end day and time").css("color","green"),jQuery("#event-location").val("Add another event location").css("color","green"),jQuery("#event-address").val("Add another event address").css("color","green"),jQuery("#event-contact-person").val("Add another contact person").css("color","green"),jQuery("#event-contact-phone").val("Add another contact phone").css("color","green"),jQuery("#event-contact-email").val("Add another contact email").css("color","green"),jQuery("#event-contact-web").val("Add another web link").css("color","green"),jQuery("#event-social-1").val("Add another link -- social media too").css("color","green"),jQuery("#event-social-2").val("Add another link -- social media too").css("color","green"),jQuery("#event-social-3").val("Add another link -- social media too").css("color","green"),jQuery("#event-campus").val("Add another city or campus").css("color","green"),jQuery("#update-event-feedback").html("You have added an event: "+t)}),jQuery("#help-add-users").click(function(){jQuery("#help-add-users-view").toggle("slow",function(){})}),$(function(){$("#datetimepicker3, #datetimepicker4").datetimepicker()})});